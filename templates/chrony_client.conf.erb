# Generated by Chef Infra Client. Do not hand edit

# Use public servers from the pool.ntp.org project.
# Please consider joining the pool (http://www.pool.ntp.org/join.html).
# See https://chrony.tuxfamily.org/faq.html#_what_is_the_minimum_recommended_configuration_for_an_ntp_client
# for explanations for these configuration settings
<% @servers.each do |source| %>
<%= "pool #{source}" %>
<% end %>

# Record the rate at which the system clock gains/losses time.
driftfile <%= @driftfile %>

# Allow the system clock to be stepped in the first three updates
# if its offset is larger than 1 second.
makestep 1 3

# Enable kernel synchronization of the real-time clock (RTC).
rtcsync

# Specify directory for log files.
logdir <%= @log_dir %>

# The allow directive is used to designate a particular subnet from which clients
# are allowed to access chrony. As a client option this can be used for accessing the the
# NTP interface to query status information.
<% if @allow %>
<%    @allow.each do |allowed| %>
allow <%= allowed %>
<%    end %>
<% end %>

# Extra configuration
<% node['chrony']['extra_config'].each do |conf| -%>
<%= conf %>
<% end -%>
